### Установка
Скопируйте проект из репозитория GIT

> git clone https://gitlab.skillbox.ru/pavel_rusakov/python_advanced_diploma.git

Установите все зависимости из requirements.txt 

Установите и проведите первичный запуск базы данных
Инициализируйте команду из директории проекта

> docker-compose up database <br>

После запуска база данных будет доступна
Хранение данных и логов в директории dir_project/database/


Создайте дополнительную базу данных для тестирования
Выполните следующее

1. Подключитесь к терминалу внутри контейнера <br>
    > docker exec -it container_name /bin/sh <br>
        Посмотреть имя контейнера можно командой <br>
        > docker container ls
2. Подключитесь к базе данных через psql<br>
    > psql -U admin
3. Создайте дополнительную базу данных для тестирования
    > CREATE DATABASE tests;

### Проведите тест базы данных
Тестирование проводится при помощи асинхронного pytest
Тесты проверят подключение к базе данных и проверят работу моделей sqlalchemy
> pytest tests/

## Запуск проекта

Остановите запущенный контейнер ранее, если он ещё не остановлен.
Запустите все сервисы
> docker-compose up

После запуска база данных и все таблицы будут проинициализированы

Добавьте в базу данных пользователей любым удобным для вас способом.

> Обратите внимание. При добавление пользователя поле api-key должно быть уникальным. <br>
> api-key это уникальный ключ пользователя по которому проводится аутентификация

Откройте страницу в браузере по адресу http://localhost:8000 или http://127.0.0.1:8000

В правом верхнем углу необходимо ввести api-key пользователя для авторизации.

Вы успешно запустили проект


### [settings_app.cfg](settings_app.cfg)

Настройки отвечают за расположения web файлов

DEBUG_MOD - Дебаг режим приложения FastApi<br>
DIRECTORY_MEDIA - Директория медиа файлов<br>
DIRECTORY_TEMPLATES - Директория шаблонов и страниц<br>

Следующие настройки отвечают за подключение к базе данных

DATABASE_URL_TEST - URL для локального подключения подключения к бд для тестирования <br>
DATABASE_URL - URL для подключения базе данных внутри контейнера между сервисами<br>